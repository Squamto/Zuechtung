<UserControl x:Class="Framework.View.MessageBoxUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:conv="clr-namespace:Framework.ViewModel"
             mc:Ignorable="d"
             d:DesignHeight="200" d:DesignWidth="800">
	<UserControl.Resources>
		<conv:BoolToVisibilityConverter x:Key="boolToVisiblity" />
	</UserControl.Resources>
	<UserControl.InputBindings>
		<KeyBinding Key="Return" Command="{Binding Path=Button1Command}" />
	</UserControl.InputBindings>
	<Grid>
		<Grid Background="DarkGray" Opacity="0.8" />
		<Border Margin="3"
		        BorderBrush="LightGray" BorderThickness="1" CornerRadius="5" Width="{Binding Path=BoxWidth, Mode=OneWay}"
		        Height="{Binding Path=BoxHeight, Mode=OneWay}">
			<Grid Opacity="{Binding Path=Opacity, Mode=OneWay}" Background="LightGray">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="120*" />
					<ColumnDefinition Width="*" />
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition Height="*" />
					<RowDefinition Height="20*" />
					<RowDefinition Height="*" />
					<RowDefinition Height="3*" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>
				<Border BorderBrush="LightGray" BorderThickness="1"
				        Grid.Column="1" Grid.Row="1">
					<TextBox
						Text="{Binding Path=MessageText, Mode=OneWay}"
						AutomationProperties.AutomationId="MessageBoxMessageText"
						FontSize="{Binding Path=FontSize, FallbackValue=12}"
						TextWrapping="Wrap" IsReadOnly="True"
						HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
						HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
				</Border>
				<StackPanel
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					Grid.Column="1" Grid.Row="3">
					<Button
						IsDefault="True"
						Content="{Binding TextButton1, FallbackValue=OK}"
						Command="{Binding Button1Command}"
						Visibility="{Binding IsButton1Visible, ConverterParameter=false, Converter={StaticResource boolToVisiblity}, FallbackValue=Visible}"
						Width="50" Margin="5,0" />
					<Button
						Content="{Binding TextButton2}"
						Command="{Binding Button2Command}"
						Visibility="{Binding IsButton2Visible, ConverterParameter=false, Converter={StaticResource boolToVisiblity}, FallbackValue=Visible}"
						Width="100" Margin="5,0" />
					<Button
						Content="{Binding TextButton3}"
						Command="{Binding Button3Command}"
						Visibility="{Binding IsButton3Visible, ConverterParameter=false, Converter={StaticResource boolToVisiblity}, FallbackValue=Visible}"
						Width="100" Margin="5,0" />
					<Button
						IsCancel="True"
						Content="{Binding TextButton4, FallbackValue=Cancel}"
						Command="{Binding Button4Command}"
						Visibility="{Binding IsButton4Visible, ConverterParameter=false, Converter={StaticResource boolToVisiblity}, FallbackValue=Visible}"
						Width="50" Margin="5,0" />
				</StackPanel>
			</Grid>
		</Border>
	</Grid>
</UserControl>